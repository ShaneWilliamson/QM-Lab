language: java
jdk:
  - oraclejdk8

branches:
  only:
  - development
  - selenium

sudo: true

notifications:
  slack:
    rooms:
        - '371team3:R6TEyOqBzUzFY13wyDs3OXJZ'
    on_success: always
    on_failure: always

before_install:
  - bash gruntSetup.sh
  - export CHROME_BIN=/usr/bin/google-chrome
  - export DISPLAY=:99.0
  - bash selenium_setup.sh


before_script:
  - sudo npm install grunt --save-dev
  - sudo npm install grunt-contrib-qunit --save-dev
  - sudo npm install grunt-contrib-jshint --save-dev
  - sudo npm install grunt-qunit-istanbul --save-dev


script:
  - grunt syntax --verbose --force
  - grunt test --verbose --force
  - nohup java -jar selenium-server-standalone-2.53.0.jar &
  - mvn test -f ./src/Maven/pom.xml
