<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: collab_object_setup</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: collab_object_setup</h1>

    




<section>

<header>
    
        <h2>collab_object_setup</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="collab_object_setup"><span class="type-signature"></span>collab_object_setup<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Setup functions for a collaboritive object used with Google API and Google  Drive.
</div>





















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collabobjectssetup.js.html">collabobjectssetup.js</a>, <a href="collabobjectssetup.js.html#line4">line 4</a>
    </li></ul></dd>
    

    

    

    
</dl>


















    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".addCollabEventToCell"><span class="type-signature">(static) </span>addCollabEventToCell<span class="signature">(cell)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Takes a local cell and adds an event listener. The event listener will update  the collaborative objects that represent this local cell when the local  cell is changed.
</div>



<h5>Preconditions:</h5>

        
<div class="precondition-desc">
    Cell must exist, cell has be on the collaborative graph, cell  cannot already be collaborative
</div>

    


<h5>Postconditions:</h5>

        
<div class="precondition-desc">
    On cell change, will update the collaborative object (ie.  updating other users)
</div>

    




<h5>History:</h5>

        
<div class="precondition-desc">
    The collaborative cell is up to date with the local cell, or an  update is being sent to it
</div>

    








    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cell</code></td>
            

            <td class="type">
            
                
<span class="param-type">node</span>
|

<span class="param-type">link</span>


            
            </td>

            

            

            <td class="description last">A local cell</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collabobjectssetup.js.html">collabobjectssetup.js</a>, <a href="collabobjectssetup.js.html#line49">line 49</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    <h4 class="name" id=".CollaborativeCell"><span class="type-signature">(static) </span>CollaborativeCell<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Local constructor of the collaborative cell.
</div>





<h5>Postconditions:</h5>

        
<div class="precondition-desc">
    A local copy of the collaborative cell has been created.
</div>

    
















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collabobjectssetup.js.html">collabobjectssetup.js</a>, <a href="collabobjectssetup.js.html#line141">line 141</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    <h4 class="name" id=".CollaborativeGraph"><span class="type-signature">(static) </span>CollaborativeGraph<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Local constructor of the collaborative graph.
</div>





















<dl class="details">

    

    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>Currently, there are no local fields or methods for the  collaborative graph which ensure correct syncing.</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collabobjectssetup.js.html">collabobjectssetup.js</a>, <a href="collabobjectssetup.js.html#line61">line 61</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    <h4 class="name" id=".doCellInitialize"><span class="type-signature">(static) </span>doCellInitialize<span class="signature">(JSONdata)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Constructor for the collaborative cell. Creates a collaborative version of  the local cell based off of JSONdata.
</div>



<h5>Preconditions:</h5>

        
<div class="precondition-desc">
    JSONdata exists with JSON from Joint.js
</div>

    


<h5>Postconditions:</h5>

        
<div class="precondition-desc">
    A collaborative cell has been created which updates based on  the local cell.
</div>

    












    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>JSONdata</code></td>
            

            <td class="type">
            
                
<span class="param-type">JSON</span>


            
            </td>

            

            

            <td class="description last">JSON created from a Joint.js cell</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collabobjectssetup.js.html">collabobjectssetup.js</a>, <a href="collabobjectssetup.js.html#line155">line 155</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    <h4 class="name" id=".doCellOnLoaded"><span class="type-signature">(static) </span>doCellOnLoaded<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Called whenever a collaborative cell is loaded by a document (including on  intialized and every time a new user connects).Adds an event listener to the collaborative cell which updates the local  cell.
</div>



<h5>Preconditions:</h5>

        
<div class="precondition-desc">
    The collaborative cell exists and is loaded, the local cell  has been created
</div>

    


<h5>Postconditions:</h5>

        
<div class="precondition-desc">
    The collaborative cell has an event listener listeneing for  changes
</div>

    




<h5>History:</h5>

        
<div class="precondition-desc">
    The local cell will either be up to date with the collaborative cell  or being updated
</div>

    












<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collabobjectssetup.js.html">collabobjectssetup.js</a>, <a href="collabobjectssetup.js.html#line176">line 176</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    <h4 class="name" id=".doGraphInitialize"><span class="type-signature">(static) </span>doGraphInitialize<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Initializes the collaborative constructor.
</div>



<h5>Preconditions:</h5>

        
<div class="precondition-desc">
    The Google Realtime API model has been created
</div>

    


<h5>Postconditions:</h5>

        
<div class="precondition-desc">
    The graph is initialized into the variable model
</div>

    
















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collabobjectssetup.js.html">collabobjectssetup.js</a>, <a href="collabobjectssetup.js.html#line72">line 72</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    <h4 class="name" id=".doGraphOnLoaded"><span class="type-signature">(static) </span>doGraphOnLoaded<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Loads the collaborative object event listeners.Called whenever the document loads a collaborative object, as well as when the first collaborative object is initialized.
</div>



<h5>Preconditions:</h5>

        
<div class="precondition-desc">
    the collaborative graph object has been loaded and is available
</div>

    


<h5>Postconditions:</h5>

        
<div class="precondition-desc">
    the collaborative graph is ready to be used
</div>

    
















<dl class="details">

    

    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>Currently does not need to happen for objects</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collabobjectssetup.js.html">collabobjectssetup.js</a>, <a href="collabobjectssetup.js.html#line86">line 86</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    <h4 class="name" id=".registerCollaborativeObjectTypes"><span class="type-signature">(static) </span>registerCollaborativeObjectTypes<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Registers all the custom object types.Without this, custom collaborative objects will throw undefined errors or  edit local fields only.
</div>



<h5>Preconditions:</h5>

        
<div class="precondition-desc">
    Has not been called yet, the Google Realtime API can interact  with the custom collaborative objects
</div>

    




<h5>Invariant:</h5>

        
<div class="precondition-desc">
    All or none of the custom objects are registered
</div>

    














<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collabobjectssetup.js.html">collabobjectssetup.js</a>, <a href="collabobjectssetup.js.html#line21">line 21</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    <h4 class="name" id=".updateCellByEventID"><span class="type-signature">(static) </span>updateCellByEventID<span class="signature">(cell)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Called whenever a Joint.js cell is updated. If it was a local change, it will  update the collaborative version. Otherwise, if the change was from a  collaborator, it will set the global state to record changes.
</div>



<h5>Preconditions:</h5>

        
<div class="precondition-desc">
    The local cell has had a collaborative cell already created to  parallel it rootModel points to the document collaborative graph from  Google's Realtime API
</div>

    


<h5>Postconditions:</h5>

        
<div class="precondition-desc">
    The local cell's state has been recorded in the collaborative  cell if this state didn't already come from there,  collaborativeChangeReceived has been set to false
</div>

    












    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cell</code></td>
            

            <td class="type">
            
                
<span class="param-type">cell</span>


            
            </td>

            

            

            <td class="description last">the cell updated</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collabobjectssetup.js.html">collabobjectssetup.js</a>, <a href="collabobjectssetup.js.html#line236">line 236</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    <h4 class="name" id=".updateCellByJSON"><span class="type-signature">(static) </span>updateCellByJSON<span class="signature">(event, that)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Called whenever a collaborative cell has been updated. It updates the local  copy of the cell (including adding or removing the cell from the graph).Prevents latency issues with making collab objects update to old states.
</div>



<h5>Preconditions:</h5>

        
<div class="precondition-desc">
    The collaborative cell exists and has a JSON field with a  Joint.js cell.
</div>

    


<h5>Postconditions:</h5>

        
<div class="precondition-desc">
    The local cell JSON field is updated, the global state has  been changed to understand that the next change it makes is from a  collaborator.
</div>

    












    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>event</code></td>
            

            <td class="type">
            
                
<span class="param-type">event</span>


            
            </td>

            

            

            <td class="description last">undefined</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>that</code></td>
            

            <td class="type">
            
                
<span class="param-type">action</span>


            
            </td>

            

            

            <td class="description last">the action (update, remove, or add)</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collabobjectssetup.js.html">collabobjectssetup.js</a>, <a href="collabobjectssetup.js.html#line199">line 199</a>
    </li></ul></dd>
    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>Either use even or remove it</li>
        </ul>
    </dd>
    
</dl>


















        
            

    

    <h4 class="name" id=".updateCollabGraph"><span class="type-signature">(static) </span>updateCollabGraph<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Ensures the back-up graph stored with the Realtime API is up to date.Generally, it doesn't have to be updated "on the fly", as it is only used to  update the graph of users when the document is loaded, or when a severe  error would cause the program to break down.
</div>



<h5>Preconditions:</h5>

        
<div class="precondition-desc">
    the collaboratibe graph exists in the Realtime API
</div>

    


<h5>Postconditions:</h5>

        
<div class="precondition-desc">
    the collaborative graph is up to date
</div>

    




<h5>History:</h5>

        
<div class="precondition-desc">
    May or may not have been called on the last local update.
</div>

    












<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collabobjectssetup.js.html">collabobjectssetup.js</a>, <a href="collabobjectssetup.js.html#line103">line 103</a>
    </li></ul></dd>
    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>Add asserts to ensure colGraph.graph exists</li>
        </ul>
    </dd>
    
</dl>


















        
            

    

    <h4 class="name" id=".updateGraph"><span class="type-signature">(static) </span>updateGraph<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Updates the local graph to the match the most up to date collaborative graph.  Called on document loading or in cases where the graph is broken and cannot  function.
</div>



<h5>Preconditions:</h5>

        
<div class="precondition-desc">
    The collaborative graph exists in the Google Realtime API, the  local graph exists and has a listener.
</div>

    


<h5>Postconditions:</h5>

        
<div class="precondition-desc">
    The local graph is updated to the most recent graph.
</div>

    


<h5>Invariant:</h5>

        
<div class="precondition-desc">
    The local graph only represents the most recent update.
</div>

    














<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collabobjectssetup.js.html">collabobjectssetup.js</a>, <a href="collabobjectssetup.js.html#line125">line 125</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="cell_parent_logic.html">cell_parent_logic</a></li><li><a href="check_collab_allowed.html">check_collab_allowed</a></li><li><a href="collab_object_setup.html">collab_object_setup</a></li><li><a href="connection_check.html">connection_check</a></li><li><a href="create_objects.html">create_objects</a></li><li><a href="element_prop_alter.html">element_prop_alter</a></li><li><a href="g_r_api_auth.html">g_r_api_auth</a></li><li><a href="initialize_diagram.html">initialize_diagram</a></li><li><a href="initialize_web_page.html">initialize_web_page</a></li><li><a href="link_joining.html">link_joining</a></li><li><a href="loading_bar.html">loading_bar</a></li><li><a href="qm_lab_file_opened.html">qm_lab_file_opened</a></li><li><a href="qm_lab_joint_classes.html">qm_lab_joint_classes</a></li><li><a href="utility_functions_qm_lab.html">utility_functions_qm_lab</a></li></ul><h3>Global</h3><ul><li><a href="global.html#setPropertyDisplayValues">setPropertyDisplayValues</a></li><li><a href="global.html#updateProperties">updateProperties</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Mon Apr 04 2016 21:32:08 GMT-0600 (Canada Central Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>