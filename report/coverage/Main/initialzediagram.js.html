<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for Main/initialzediagram.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../prettify.css">
    <link rel="stylesheet" href="../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header low">
    <h1>Code coverage report for <span class="entity">Main/initialzediagram.js</span></h1>
    <h2>
        Statements: <span class="metric">23.39% <small>(29 / 124)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">0% <small>(0 / 43)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">18.18% <small>(4 / 22)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">23.39% <small>(29 / 124)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; <a href="index.html">Main/</a> &#187; initialzediagram.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">////////////////////////
// initialize_diagram //
////////////////////////
/**
 * Sets up the diagram's graph, paper, and controllers.
 * @class initialize_diagram
 */
&nbsp;
/**
 * This initializes the local graph to empty, and stores it in the collaborative
 *   graph. Essentially, this should only be called when the document is first
 *   created. However, it can potentially be used to "reset" the diagram to
 *   empty.
 * @preconditions colGraph exists and has access to the collaborative graph.
 * @postconditions the local graph and collaborative graph are both empty
 * @memberOf initialize_diagram
 */
function initializeGraph() {
	graph = new joint.dia.Graph;
	colGraph.graph = JSON.stringify(graph);
}
&nbsp;
/*
Initializes the graph used for printing to whatever is in the current editable graph.
The print graph is not directly linked to the collaborative graph and is only updated at the
time of printing so that the graph can not be changed as you are printing it.
pre: graph exists.
post: printGraph contains the contents of graph.
*/
function initializePrintGraph(){
	printGraph = new joint.dia.Graph;
	console.log("Print graph created.");
	printGraph.fromJSON(JSON.parse(JSON.stringify(graph)));
}
&nbsp;
/*
Updates the print graph with the contents of graph.
pre: printGraph and graph exist.
post: printGraph has the same contents of graph.
*/
function updatePrintGraph(){
	printGraph.fromJSON(JSON.parse(JSON.stringify(graph)));
}
&nbsp;
&nbsp;
&nbsp;
<span class="fstat-no" title="function not covered" >function stopPanning() {</span>
<span class="cstat-no" title="statement not covered" >	movingViewPort = false;</span>
}
	
&nbsp;
/**
 * This initialzes the local "paper" object from joint.js to be able to display
 *   the diagram.
 * @preconditions The local graph must exist. The HTML container "paperView"
 *   must exist.
 * @postconditions The html container div "paperView" will hold a view of the
 *   diagram, representing the back-end model.
 * @memberOf initialize_diagram
 */
<span class="fstat-no" title="function not covered" >function initializePaper() {</span>
<span class="cstat-no" title="statement not covered" >	paper = new joint.dia.Paper({</span>
		el: $('#paperView'),
		width: 1000,
		height: 1000,
		model: graph,
		perpendicularLinks: true,
		gridSize: 1
	});
<span class="cstat-no" title="statement not covered" >	paperScale = 1;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	paper.on('blank:pointerdown', paperEmptySelectionPressed);</span>
<span class="cstat-no" title="statement not covered" >	paper.$el.on('wheel', paperZoom);</span>
<span class="cstat-no" title="statement not covered" >	paper.$el.on('mouseup', paperOnMouseUp);</span>
<span class="cstat-no" title="statement not covered" >	addEvent(window, 'mouseup', stopPanning);</span>
<span class="cstat-no" title="statement not covered" >	addEvent(window, 'resize', resizePaper);</span>
<span class="cstat-no" title="statement not covered" >	resizePaper();</span>
	
	
	// First, unembed the cell that has just been grabbed by the user.
<span class="cstat-no" title="statement not covered" >	paper.on('cell:pointerdown', bringParentlessCellToFront);</span>
<span class="cstat-no" title="statement not covered" >	paper.on('cell:pointerdown', deParentCell);</span>
	
	
<span class="cstat-no" title="statement not covered" >	paper.on('cell:pointerup', parentCell);	</span>
<span class="cstat-no" title="statement not covered" >	paper.on('cell:pointerclick', selectClickedCell);</span>
<span class="cstat-no" title="statement not covered" >	paper.on('blank:pointerclick', deselectCell);</span>
	
<span class="cstat-no" title="statement not covered" >	graph.on('change', <span class="fstat-no" title="function not covered" >function(cell) { </span></span>
<span class="cstat-no" title="statement not covered" >		if (isCollabRecordingAllowed()) {</span>
<span class="cstat-no" title="statement not covered" >			selected[0] = cell;</span>
<span class="cstat-no" title="statement not covered" >			updateProperties();</span>
		}
		
	})
}
&nbsp;
/**
 * This initialzes the local "paper" object that is used for printing purposes from joint.js to be able to display
 *   the diagram.
 * @preconditions The printPraph must exist. The HTML container "printView"
 *   must exist.
 * @postconditions The html container div "printView" will hold a hidden view of the
 *   diagram, representing the back-end model.
 * @memberOf initialize_diagram
 */
function initializePrintPaper() {
	//Paper is initialized with 0 height and width so it does not take up space
	//until it is needed for printing
	printPaper = new joint.dia.Paper({
		el: $('#printView'),
		width: 1,
		height: 1,
		model: graph,
		perpendicularLinks: true,
		gridSize: 1
	});
	printPaper.scale(1,1);	
}
&nbsp;
/**
 * On mouse wheel over the "paper", zoom based on mouse wheel direction.
 * @preconditions The "wheel" event has triggered, and contains a non-zero
 *   number for direction of mouse wheel.
 * @postconditions Scales if paperScale &gt; 0.1. Prevents scrolling on page when
 *   happens.
 * @invariant The zoom will override default zoom functionality
 * @param  {event} e the triggering wheel event
 * @memberOf initialize_diagram
 */
<span class="fstat-no" title="function not covered" >function paperZoom(e) {</span>
	
	
<span class="cstat-no" title="statement not covered" >	var oldPaperScale = paperScale;</span>
	
	//For cross browser use, grab the direction the mouse wheel has turned
<span class="cstat-no" title="statement not covered" >	var delta = Math.max(-1, Math.min(1, (-e.originalEvent.deltaY || e.originalEvent.wheelDelta || -e.originalEvent.detail)));</span>
	//If the mouse wheel rolled "down", zoom out
<span class="cstat-no" title="statement not covered" >	if (delta &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >		paperScale += 0.1;</span>
	}
	//If the mouse wheel rolled "up", zoom out
	else <span class="cstat-no" title="statement not covered" >if (paperScale &gt; 0.2){ //The value is 0.2 because the objects disappear if it is 0.1</span>
<span class="cstat-no" title="statement not covered" >		paperScale -= 0.1;</span>
	}
&nbsp;
	//Set the actual zoom
<span class="cstat-no" title="statement not covered" >	paper.scale(paperScale, paperScale);</span>
	
	//Reposition the origin to keep the upper left corner where it is
<span class="cstat-no" title="statement not covered" >	var xOffset = paper.options.origin.x;</span>
<span class="cstat-no" title="statement not covered" >	var yOffset = paper.options.origin.y;</span>
<span class="cstat-no" title="statement not covered" >	paper.setOrigin(xOffset * (paperScale / oldPaperScale), yOffset * (paperScale / oldPaperScale));</span>
	
&nbsp;
	//Prevent the mouse wheel event from scrolling
<span class="cstat-no" title="statement not covered" >	e.originalEvent.preventDefault();</span>
}	
		
&nbsp;
/*
pre: the paper must exist
post: the user will no longer be able to interact with the paper
*/
<span class="fstat-no" title="function not covered" >function removePaperInteraction() {</span>
<span class="cstat-no" title="statement not covered" >	selected = {};</span>
<span class="cstat-no" title="statement not covered" >	paper.$el.addClass("nonInteractive");</span>
}
&nbsp;
/*
This restores the user's ability to interact with the paper.
&nbsp;
pre: the paper must exist
post: the user will once more be able to interact with the paper
*/
<span class="fstat-no" title="function not covered" >function restorePaperInteraction() {</span>
<span class="cstat-no" title="statement not covered" >	paper.$el.removeClass("nonInteractive");</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function resizePaper(e) {</span>
<span class="cstat-no" title="statement not covered" >	var paperDiv = document.getElementById('paperView');</span>
<span class="cstat-no" title="statement not covered" >	var heightOfPaper = window.innerHeight - 250;</span>
<span class="cstat-no" title="statement not covered" >	if (heightOfPaper &lt; 550) {</span>
<span class="cstat-no" title="statement not covered" >		heightOfPaper = 550;</span>
	}
<span class="cstat-no" title="statement not covered" >	paper.setDimensions(paperDiv.clientWidth - 20, heightOfPaper);</span>
}
&nbsp;
/* 
Resizes the printing paper so that it fits a sheet of paper and scales the content
so that it all fits inside the paper.
pre: The printPaper must exist.
post: The printPaper will be the size of a sheet of paper.
*/
<span class="fstat-no" title="function not covered" >function resizePrintPaper(e){</span>
	//The values 1000 and 1250 make the paper fit the print page nicely
<span class="cstat-no" title="statement not covered" >	var width = 1000;</span>
<span class="cstat-no" title="statement not covered" >	var height = 1250;</span>
<span class="cstat-no" title="statement not covered" >	printPaper.setDimensions(width, height);</span>
<span class="cstat-no" title="statement not covered" >	printPaper.scaleContentToFit();</span>
}
&nbsp;
/*
Shrinks the paper so that it no longer takes up space.
This is done after printing is complete.
This is required because the paper has a visibility of hidden,
not a display of none. The paper can not have a display of none because
there is an issue where the size of objects is changes when the paper goes from
no display to block display.
pre: The printPaper must exist.
post: the printPaper will be the smallest possible size.
*/
<span class="fstat-no" title="function not covered" >function shrinkPrintPaper(e){</span>
	//Values are 1 and 1 because using 0 and 0 does not work
<span class="cstat-no" title="statement not covered" >	var width = 1;</span>
<span class="cstat-no" title="statement not covered" >	var height = 1;</span>
<span class="cstat-no" title="statement not covered" >	printPaper.setDimensions(width, height);</span>
}
	
&nbsp;
/**
 * Trigger when the user has clicked on an empty part of the paper. At the
 *   moment it then triggers the "panning" functionality, and updates where the
 *   mouse is.
 *
 * Later, our plans are to divide the functionality of this function into "pan
 *   when the user is also pressing a pan button" and "start multi selection"
 * @preconditions The user's mouse is over the paper in an empty part of the
 *   paper. The event actually happened. 
 * @postconditions The user's mouse position has been recorded, and the
 *   "panning" functionality is activated.
 * @param  {event} e the click event which triggered the function call
 * @memberOf initialize_diagram
 */
<span class="fstat-no" title="function not covered" >function paperEmptySelectionPressed(e) {</span>
<span class="cstat-no" title="statement not covered" >	updateMousePos(e)</span>
<span class="cstat-no" title="statement not covered" >	movingViewPort = true;</span>
}
&nbsp;
/**
 * When the user lets go of the mouse over the paper, call this function. Based
 *   on previous state logic, this function decides how to handle said mouse
 *   event
 *
 * Possible ways of handling it currently only include creating an object based
 *   on user button selections At the end of the function, it resets the UI
 *   selections and resets the global state to "EDIT" mode.
 * @preconditions The user's mouse is over the paper. The mouseup event actually
 *   triggered.
 * @postconditions The user's mouse position on the paper has been updated. The
 *   internal logic has handled any object creation. The internal state has been
 *   reset to "EDIT" mode.
 * @param  {event} e the event which triggered the function call
 * @memberOf initialize_diagram
 */
<span class="fstat-no" title="function not covered" >function paperOnMouseUp(e) {</span>
<span class="cstat-no" title="statement not covered" >	updateMousePos(e)</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	if (genUI.lastClickedValue == "Stock") {</span>
<span class="cstat-no" title="statement not covered" >		createStock(curMousePos);</span>
&nbsp;
	} else <span class="cstat-no" title="statement not covered" >if (genUI.lastClickedValue == "State") {</span>
<span class="cstat-no" title="statement not covered" >		createState(curMousePos);</span>
		
	} else <span class="cstat-no" title="statement not covered" >if (genUI.lastClickedValue == "Terminal State") {</span>
<span class="cstat-no" title="statement not covered" >		createTerminalState(curMousePos);</span>
		
	} else <span class="cstat-no" title="statement not covered" >if (genUI.lastClickedValue == "Branch") {</span>
<span class="cstat-no" title="statement not covered" >		createBranch(curMousePos);</span>
		
	} else <span class="cstat-no" title="statement not covered" >if (genUI.lastClickedValue == "Agent") {</span>
<span class="cstat-no" title="statement not covered" >		createAgent(curMousePos);</span>
		
	} else <span class="cstat-no" title="statement not covered" >if (genUI.lastClickedValue == "Text Area") {</span>
<span class="cstat-no" title="statement not covered" >		createText(curMousePos);</span>
		
	} else <span class="cstat-no" title="statement not covered" >if (genUI.lastClickedValue == "Simple Straight") {</span>
<span class="cstat-no" title="statement not covered" >		createLink(curMousePos, "normal");</span>
		
	} else <span class="cstat-no" title="statement not covered" >if (genUI.lastClickedValue == "Simple Curved") {</span>
<span class="cstat-no" title="statement not covered" >		createLink(curMousePos, "smooth");</span>
		
	} else <span class="cstat-no" title="statement not covered" >if (genUI.lastClickedValue == "Image") {</span>
<span class="cstat-no" title="statement not covered" >		createImage(curMousePos);</span>
		
	} else <span class="cstat-no" title="statement not covered" >if (genUI.lastClickedValue == "Variable") {</span>
<span class="cstat-no" title="statement not covered" >		createVariable(curMousePos);</span>
		
	} else <span class="cstat-no" title="statement not covered" >if (genUI.lastClickedValue == "Parameter"){</span>
<span class="cstat-no" title="statement not covered" >		createParameter(curMousePos);</span>
		
	} else <span class="cstat-no" title="statement not covered" >if (genUI.lastClickedValue == "Flow"){</span>
<span class="cstat-no" title="statement not covered" >		createFlow(curMousePos);</span>
	} else {
<span class="cstat-no" title="statement not covered" >		console.log(genUI.lastClickedValue);</span>
	}
&nbsp;
<span class="cstat-no" title="statement not covered" >	genUI.deselectUIElements();</span>
<span class="cstat-no" title="statement not covered" >	genUI.lastClickedValue = "EDIT"; </span>// reset the cursor back to editing
<span class="cstat-no" title="statement not covered" >	movingViewPort = false;</span>
}
&nbsp;
&nbsp;
<span class="fstat-no" title="function not covered" >function selectClickedCell(cellView, evt) {</span>
<span class="cstat-no" title="statement not covered" >	bringChildrenOfParentToFront(cellView.model);</span>
<span class="cstat-no" title="statement not covered" >	selected[0] = cellView.model;</span>
<span class="cstat-no" title="statement not covered" >	updateProperties();</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function deselectCell() {</span>
<span class="cstat-no" title="statement not covered" >	selected = {};</span>
<span class="cstat-no" title="statement not covered" >	updateProperties();</span>
}
&nbsp;
&nbsp;
&nbsp;
/**
 * When the user hits a key, check which key was pressed. Handle state
 *   accordingly.
 *
 * Currently, the only key this function accounts for is the "delete key". Works
 *   on both Windows and Mac. However, further functionality planned includes
 *   adding a "when panning key has been pressed", among others
 * @preconditions "keyDown" event has fired with a valid, non empty keyCode.
 * @postconditions The "keyDown" key has been checked, and any behaviour
 *   associated with that key have been dispatched. Current behaviour dispatch
 *   includes: "Delete Key": Delete currently selected node.
 * @param  {event} e The user hitting the key event which triggered the function
 *   call.
 * @memberOf initialize_diagram
 */
<span class="fstat-no" title="function not covered" >function handleKeyInput(e) {</span>
<span class="cstat-no" title="statement not covered" >	if (e.keyCode == 46) {</span>
<span class="cstat-no" title="statement not covered" >		deleteSelectedCell(e);</span>
	}
	else {
		//console.log("A key was pushed");
	}
}
&nbsp;
&nbsp;
/**
 * Deletes the currently selected node, as well as ensures other collaborators
 *   have the node deleted as well.
 * @preconditions There should be some cell at index 0 of "selected" for
 *   something to happen. However, if there is not, nothing happens.
 * @postconditions Whatever cell was at index 0 of selected has been removed
 *   from the graph and view. The removed cell is also removed from the
 *   "selected" array, and everything in the selected array is shifted one down.
 * @param  {event} e Event that trigger the function call.
 * @memberOf initialize_diagram
 */
<span class="fstat-no" title="function not covered" >function deleteSelectedCell(e) {</span>
<span class="cstat-no" title="statement not covered" >	if (selected){</span>
<span class="cstat-no" title="statement not covered" >		if (selected[0]) {</span>
<span class="cstat-no" title="statement not covered" >			rootModel.getRoot().get(selected[0].id).action = 'remove';</span>
<span class="cstat-no" title="statement not covered" >			selected[0].remove();</span>
		}
	}
}
&nbsp;
/**
 * When the mouse moves, handle the logic of figuring out what further methods
 *   need to be dispatched.
 *
 * Currently, this logic is limited to when the user is panning the view of the
 *   diagram. Planned changes include handling of "click-and-drag" to select
 *   multiple objects at once.
 * @preconditions A mouseMove event has fired off with the valid "x" and "y"
 *   position of the mouse.
 * @postconditions The appropriate behaviour has been dispatched based off what
 *   the global internal-state is. This behavious currently handles: panning of
 *   the diagram view.
 * @param  {event} e The mouse moving event that triggered the function call.
 * @memberOf initialize_diagram
 */
<span class="fstat-no" title="function not covered" >function handleMouseMove(e) {</span>
<span class="cstat-no" title="statement not covered" >	if (movingViewPort) {</span>
<span class="cstat-no" title="statement not covered" >		moveViewPort(e);</span>
	}
}
&nbsp;
&nbsp;
/**
 * This function checks where the mouse currently is, and where it used to be in
 *   relation to a position on the paper. It then alters the view of the diagram
 *   by that measurement.
 * @preconditions A mouseMove event has fired off with the valid "x" and "y"
 *   position of the mouse.
 * @postconditions curMousePos holds the current mouse position in relation to
 *   the diagram's new display position. oldMousePos holds the previous mouse
 *   position in relation to the diagram's new display position
 * @param  {event} e The event that triggered the function.
 * @memberOf initialize_diagram
 */
<span class="fstat-no" title="function not covered" >function moveViewPort(e) {</span>
<span class="cstat-no" title="statement not covered" >	updateMousePos(e);</span>
<span class="cstat-no" title="statement not covered" >	var origin = paper.options.origin;</span>
<span class="cstat-no" title="statement not covered" >	paper.setOrigin(((curMousePos.x - oldMousePos.x) * paperScale) + origin.x, ((curMousePos.y - oldMousePos.y) * paperScale) + origin.y);</span>
<span class="cstat-no" title="statement not covered" >	updateMousePos(e);</span>
}
&nbsp;
&nbsp;
/**
 * This function updates the current and previous mouse positions in relation to
 *   where it is in regards to the diagram. The previous mouse position will
 *   store what is the current mouse position prior to this function being
 *   called.
 * @preconditions A mouseMove event has fired off with the valid "x" and "y"
 *   position of the current mouse.
 * @postconditions curMousePos holds the current mouse position in relation to
 *   the diagram. oldMousePos holds the previous mouse position in relation to
 *   the diagram.
 * @param  {event} e The event that triggered the function call.
 * @memberOf initialize_diagram
 */
<span class="fstat-no" title="function not covered" >function updateMousePos(e) {</span>
<span class="cstat-no" title="statement not covered" >	oldMousePos = curMousePos;</span>
<span class="cstat-no" title="statement not covered" >	offset =  $('#paperView').offset();</span>
<span class="cstat-no" title="statement not covered" >	curMousePos = paper.clientToLocalPoint({ x: e.clientX, y: e.clientY });</span>
}
&nbsp;</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Mon Mar 21 2016 15:14:15 GMT-0600 (CST)</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
